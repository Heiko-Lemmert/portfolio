<section *transloco="let t, prefix: 'contacts'" id="contacts"
  class="max-w-(--max-content) h-max py-8 lg:py-16 px-4 flex flex-col items-center gap-8 lg:gap-16 2xl:gap-20 text-balance">
  <h1 class="text-4xl lg:text-5xl font-bold mb-4">
    <span class=" font-accent text-center bg-linear-to-r from-primary to-secondary text-transparent bg-clip-text">
      {{ t('title') }}
    </span> ðŸ‘‹
  </h1>
  <div class="flex h-auto flex-col md:flex-row gap-4 mx-4">
    <div class="flex-1 flex flex-col gap-6">
      <div>
        <h2
          class="font-secondary text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent">
          {{ t('opener') }}
        </h2>
        <p class="text-base leading-relaxed text-balance mb-6"> {{ t('question') }} <br>
          {{ t('answer') }}
        </p>
      </div>
      <div class="h-px my-2 bg-linear-to-r from-(--color-opacity) via-(--color-primary) to-(--color-opacity)"></div>
      <ul class="social-nav social-btn flex justify-center gap-8">
        @for(social of socialData.socialLinks; track $index) {
          <li class="size-14 rounded-full flex">
            <a class="size-full relative cursor-pointer"
              [style.color]="lightModeActivated ? social.colorLight : social.color" [href]="social.link"
              target="_blank">
              <i [ngClass]="lightModeActivated ? social.iconLight : social.icon"
                class="ci ci-lg absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
              </i></a></li>
          }
      </ul>
    </div>
    <div class="flex-1">
      <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm" class="flex flex-col gap-3">
        <div id="">
          <div class="relative">
            <input type="text" id="name-input" #name="ngModel"
              [ngClass]="{'invalid': name.invalid && name.dirty, 'valid': name.valid}" [(ngModel)]="contactData.name"
              name="name" [pattern]="namePattern" minlength="3"
              class="block px-2.5 pb-2.5 pt-4 w-full text-sm bg-(--color-base-100) rounded-lg border-1 border-(--color-primary)/70 appearance-none focus:outline-none focus:ring-0 focus:border-(--color-primary) peer"
              placeholder=" " required />
            <label for="name-input"
              [ngClass]="{'peer-focus:text-(--color-primary)': name.untouched && name.pristine, 'peer-focus:text-(--color-error)': name.invalid && name.dirty, 'peer-focus:text-(--color-success)': name.valid}"
              class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-(--color-base-100) rounded-t-2xl px-2 peer-focus:px-2  peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
              Name</label>
          </div>
          @if(name.invalid && name.touched) {
            <p id="outlined_error_help" class="mt-1 ml-1 text-xs text-error">
              @if(name.errors?.['required']) {
                <span class="font-medium">{{ t('error-name-req') }}</span>
                }
                @if(name.errors?.['minlength']) {
                  <span class="font-medium">{{ t('error-name-length') }}</span>
                  }
                  @if(name.errors?.['pattern']) {
                    <span class="font-medium">{{ t('error-name-invalid') }}</span>
                    }
            </p>
            }
        </div>
        <div id="">
          <div class="relative">
            <input id="mail-input" #mail="ngModel"
              [ngClass]="{'invalid': mail.invalid && mail.dirty, 'valid': mail.valid}" [(ngModel)]="contactData.mail"
              name="mail"
              class="block px-2.5 pb-2.5 pt-4 w-full text-sm bg-(--color-base-100) rounded-lg border-1 border-(--color-primary)/70 appearance-none focus:outline-none focus:ring-0 focus:border-(--color-primary) peer"
              placeholder=" " type="email" required email />
            <label for="mail-input"
              [ngClass]="{'peer-focus:text-(--color-primary)': mail.untouched && mail.pristine, 'peer-focus:text-(--color-error)': mail.invalid && mail.dirty, 'peer-focus:text-(--color-success)': mail.valid}"
              class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-(--color-base-100) rounded-t-2xl px-2 peer-focus:px-2 peer-focus:text-(--color-primary) peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
              E-Mail</label>
          </div>
          @if(mail.invalid && mail.touched) {
            <p id="outlined_error_help" class="mt-1 ml-1 text-xs text-error">
              @if(mail.errors?.['required']) {
                <span class="font-medium">{{ t('error-mail-req') }}</span>
                }
                @if(mail.errors?.['email']) {
                  <span class="font-medium">{{ t('error-mail-invalid') }}</span>
                  }
            </p>
            }
        </div>
        <div id="">
          <div class="relative">
            <textarea type="text" id="message-input" #message="ngModel"
              [ngClass]="{'invalid': message.invalid && message.dirty, 'valid': message.valid}"
              [(ngModel)]="contactData.message" name="message" minlength="10"
              class="block px-2.5 pb-2.5 pt-4 w-full text-sm bg-(--color-base-100) rounded-lg border-1 border-(--color-primary)/70 appearance-none focus:outline-none focus:ring-0 focus:border-(--color-primary) peer"
              placeholder=" " required></textarea>
            <label for="message-input"
              [ngClass]="{'peer-focus:text-(--color-primary)': message.untouched && message.pristine, 'peer-focus:text-(--color-error)': message.invalid && message.dirty, 'peer-focus:text-(--color-success)': message.valid}"
              class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-(--color-base-100) rounded-t-2xl px-2 peer-focus:px-2 peer-focus:text-(--color-primary) peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">
              Text</label>
          </div>
          @if(message.invalid && message.touched) {
            <p id="outlined_error_help" class="mt-1 ml-1 text-xs text-error">
              @if(message.errors?.['required']) {
                <span class="font-medium">{{ t('error-message-req') }}</span>
                }
                @if(message.errors?.['minlength']) {
                  <span class="font-medium">{{ t('error-message-length') }}</span>
                  }
            </p>
            }
        </div>
        <div class="form-group privacy-consent">
          <div class="flex flex-col items-center">
            <input #privacy="ngModel" ngModel type="checkbox" id="privacy-consent" name="privacy-consent"
              class="checkbox validator" required title="Required" />
            @if(privacy.invalid && privacy.touched) {
              <p class="validator-hint">{{ t('error-privacy') }}</p>
              }
          </div>
          <label for="privacy-consent" class="text-wrap">
            {{ t('privacy-consent.pt.1') }}
            <a class="text-(--color-warning) hover:underline" href="/datenschutzerklaerung" target="_blank"
              rel="noopener">{{ t('privacy-consent.pt.2') }}</a>
            {{ t('privacy-consent.pt.3') }}
          </label>
        </div>
        <button [disabled]="privacy.invalid" type="submit"
          class="btn btn-dash btn-secondary transition-opacity duration-300 ease-in-out opacity-50 disabled:opacity-50 enabled:opacity-100">{{ t('sendbutton') }}</button>
      </form>
              <div id="toast-default"
          class="flex items-center w-full max-w-xs p-4 text-body bg-neutral-primary-soft rounded-base shadow-xs border border-default"
          role="alert">
          <svg class="w-6 h-6 text-fg-brand" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
            height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z" />
            </svg>
          <div class="ms-2.5 text-sm border-s border-default ps-3.5">Set yourself free.</div>
          <button type="button"
            class="ms-auto flex items-center justify-center text-body hover:text-heading bg-transparent box-border border border-transparent hover:bg-neutral-secondary-medium focus:ring-4 focus:ring-neutral-tertiary font-medium leading-5 rounded text-sm h-8 w-8 focus:outline-none"
            data-dismiss-target="#toast-default" aria-label="Close">
            <span class="sr-only">Close</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
              fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M6 18 17.94 6M18 18 6.06 6" /></svg>
          </button>
        </div>
    </div>
  </div>
</section>
